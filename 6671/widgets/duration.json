[{"uid":"4f6d20b7b5c72532","name":"Relay","time":{"start":1710242504457,"stop":1710242504458,"duration":1},"status":"passed","severity":"normal"},{"uid":"10e015e67397190c","name":"should throw error - no public key","time":{"start":1710242450978,"stop":1710242450979,"duration":1},"status":"passed","severity":"normal"},{"uid":"aac483c30b1f595a","name":"Reopen subscription with peer with lost subscription","time":{"start":1710242523192,"stop":1710242523192,"duration":0},"status":"passed","severity":"normal"},{"uid":"377bcde3ecb486f4","name":"topics with same application and version share the same shard","time":{"start":1710242442709,"stop":1710242442709,"duration":0},"status":"passed","severity":"normal"},{"uid":"50cdd01933b8e360","name":"Check received message containing numeric","time":{"start":1710242646701,"stop":1710242646703,"duration":2},"status":"passed","severity":"normal"},{"uid":"8b4fec47dd08207c","name":"Waku message hash computation (payload length 0)","time":{"start":1710242445169,"stop":1710242445170,"duration":1},"status":"passed","severity":"normal"},{"uid":"5a41d6a077c5fcd1","name":"ignores domain fetching errors","time":{"start":1710242466848,"stop":1710242466849,"duration":1},"status":"passed","severity":"normal"},{"uid":"4e673cd042476a06","name":"should throw an error for non-numeric clusterId: /waku/2/rs/-/1","time":{"start":1710242442722,"stop":1710242442723,"duration":1},"status":"passed","severity":"normal"},{"uid":"8d2135ac6d27222b","name":"Check received message with timestamp: 1949153314000 ","time":{"start":1710242646721,"stop":1710242646722,"duration":1},"status":"passed","severity":"normal"},{"uid":"e294a7dfff94414f","name":"groups multiple content topics into the same pubsub topic when they share the same shard index","time":{"start":1710242442710,"stop":1710242442710,"duration":0},"status":"passed","severity":"normal"},{"uid":"a8bc89257231912d","name":"should not receive a peer event after stop","time":{"start":1710242470755,"stop":1710242470755,"duration":0},"status":"passed","severity":"normal"},{"uid":"8ea83426f49e67fe","name":"retrieves all peers (2) when cannot fulfill all requirements","time":{"start":1710242466851,"stop":1710242466851,"duration":0},"status":"passed","severity":"normal"},{"uid":"dca49bbac168d7e2","name":"throws on empty content topic","time":{"start":1710242442696,"stop":1710242442697,"duration":1},"status":"passed","severity":"normal"},{"uid":"e31e0c19b58e7b94","name":"should properly create peer info with all multiaddrs","time":{"start":1710242450983,"stop":1710242450983,"duration":0},"status":"passed","severity":"normal"},{"uid":"8798663d1511480c","name":"should be able to encode the field with only LIGHTPUSH set to true","time":{"start":1710242450270,"stop":1710242450270,"duration":0},"status":"passed","severity":"normal"},{"uid":"326c9787da10f2a4","name":"safeDispatchEvent","time":{"start":1710242533850,"stop":1710242533851,"duration":1},"status":"passed","severity":"normal"},{"uid":"49cb89f8f3863091","name":"Meta field set when metaSetter is specified","time":{"start":1710242455818,"stop":1710242455818,"duration":0},"status":"passed","severity":"normal"},{"uid":"b530136424f401ea","name":"should not fail to stop the service if it was not started","time":{"start":1710242502111,"stop":1710242502112,"duration":1},"status":"passed","severity":"normal"},{"uid":"ee499f300e7aedce","name":"ENRTree (tree): should error if DNS tree entry is mis-prefixed","time":{"start":1710242466334,"stop":1710242466334,"duration":0},"status":"passed","severity":"normal"},{"uid":"6ad9cff9f4b7883b","name":"numPeers=0 -- returns all peers including all non-bootstrap with maxBootstrapPeers: 7","time":{"start":1710242657765,"stop":1710242657765,"duration":0},"status":"passed","severity":"normal"},{"uid":"ca1c67775c2e461f","name":"returns all values when wanted number is greater than available values","time":{"start":1710242465329,"stop":1710242465330,"duration":1},"status":"passed","severity":"normal"},{"uid":"a9cf1168f3cf7134","name":"should handle corrupted local storage data gracefully","time":{"start":1710242470756,"stop":1710242470757,"duration":1},"status":"passed","severity":"normal"},{"uid":"58176bde45b5b7f6","name":"numPeers=1 -- returns one bootstrap peer ","time":{"start":1710242657763,"stop":1710242657763,"duration":0},"status":"passed","severity":"normal"},{"uid":"f990c691d5440fb1","name":"Unsubscribes all - node subscribed to 1 topic","time":{"start":1710242584194,"stop":1710242584195,"duration":1},"status":"passed","severity":"normal"},{"uid":"5cebcc1f915956da","name":"numPeers=4 -- returns total 4 peers, with max 2 bootstrap peers","time":{"start":1710242657749,"stop":1710242657749,"duration":0},"status":"passed","severity":"normal"},{"uid":"44aa0c4fe7c1d998","name":"Decoder throws on empty string content topic","time":{"start":1710242476689,"stop":1710242476689,"duration":0},"status":"passed","severity":"normal"},{"uid":"795a6c049149b8d","name":"stop","time":{"start":1710242533851,"stop":1710242533852,"duration":1},"status":"passed","severity":"normal"},{"uid":"5003a0de9acf1ba3","name":"should throw an error for non-numeric clusterId: /waku/2/rs//1","time":{"start":1710242442723,"stop":1710242442723,"duration":0},"status":"passed","severity":"normal"},{"uid":"840686e6e80cdaab","name":"handles different clusterIds correctly","time":{"start":1710242442710,"stop":1710242442710,"duration":0},"status":"passed","severity":"normal"},{"uid":"4e88b1c9e2daf0ea","name":"Round trip binary encryption [ecies, no signature]","time":{"start":1710242478466,"stop":1710242478466,"duration":0},"status":"passed","severity":"normal"},{"uid":"ced7863193cca654","name":"should use the provided clusterId for the pubsub topic","time":{"start":1710242442731,"stop":1710242442731,"duration":0},"status":"passed","severity":"normal"},{"uid":"199384ef038ee722","name":"should retrieve 3 multiaddrs for prod.waku.nodes.status.im","time":{"start":1710242466852,"stop":1710242466852,"duration":0},"status":"skipped","severity":"normal"},{"uid":"b0cae20a2b2a351b","name":"should emit `peer:connected:peer-exchange` event when a peer is connected","time":{"start":1710242492883,"stop":1710242492883,"duration":0},"status":"passed","severity":"normal"},{"uid":"afbdfe48139c645a","name":"Subscribe and receive messages on autosharded pubsubtopic","time":{"start":1710242566419,"stop":1710242566419,"duration":0},"status":"passed","severity":"normal"},{"uid":"d10e1c9e39b3ba68","name":"should be able to decode the field with STORE and LIGHTPUSH protocols set to true","time":{"start":1710242450278,"stop":1710242450279,"duration":1},"status":"passed","severity":"normal"},{"uid":"8569c67f25c8e013","name":"Decoder throws on undefined content topic","time":{"start":1710242478468,"stop":1710242478468,"duration":0},"status":"passed","severity":"normal"},{"uid":"8894947ee0fffb44","name":"should correctly map a content topic to a pubsub topic for different network shard sizes","time":{"start":1710242442731,"stop":1710242442731,"duration":0},"status":"passed","severity":"normal"},{"uid":"a55da19b5933fc3d","name":"should be able to encode the field with only RELAY set to true","time":{"start":1710242450267,"stop":1710242450268,"duration":1},"status":"passed","severity":"normal"},{"uid":"383cafdeca9eb889","name":"Check message with no payload is not received","time":{"start":1710242646726,"stop":1710242646726,"duration":0},"status":"passed","severity":"normal"},{"uid":"db587f1558ae6769","name":"Check received message containing emoji","time":{"start":1710242646716,"stop":1710242646717,"duration":1},"status":"passed","severity":"normal"},{"uid":"c315bff163f74c35","name":"Subscribe and receive messages on 2 different pubsubtopics","time":{"start":1710242566420,"stop":1710242566421,"duration":1},"status":"passed","severity":"normal"},{"uid":"36e1e3c0280e972a","name":"should correctly map /app/29/sometopic/someencoding to shard index 6","time":{"start":1710242442708,"stop":1710242442708,"duration":0},"status":"passed","severity":"normal"},{"uid":"659350af9396fba0","name":"numPeers=1 -- returns one bootstrap peer ","time":{"start":1710242657753,"stop":1710242657753,"duration":0},"status":"passed","severity":"normal"},{"uid":"97cc8a0755439d54","name":"numPeers=4 -- returns total 4 peers, with max 5 bootstrap peers","time":{"start":1710242657756,"stop":1710242657757,"duration":1},"status":"passed","severity":"normal"},{"uid":"8ee199a952c026a0","name":"retrieves all peers (3) when branch entries are composed of multiple strings","time":{"start":1710242466851,"stop":1710242466851,"duration":0},"status":"passed","severity":"normal"},{"uid":"97ab4b47d5cd7594","name":"should throw an error for invalid PubsubTopic format: /incorrect/format","time":{"start":1710242442718,"stop":1710242442718,"duration":0},"status":"passed","severity":"normal"},{"uid":"921ae2cf4ba53c7f","name":"numPeers=4 -- returns total 4 peers, with max 1 bootstrap peers","time":{"start":1710242657745,"stop":1710242657745,"duration":0},"status":"passed","severity":"normal"},{"uid":"662612d06d44bf96","name":"Subscribe and receive messages from 2 nwaku nodes each with different pubsubtopics","time":{"start":1710242566423,"stop":1710242566424,"duration":1},"status":"passed","severity":"normal"},{"uid":"3cfeba5d6ae2999e","name":"numPeers=0 -- returns all peers including all non-bootstrap with maxBootstrapPeers: 4","time":{"start":1710242657754,"stop":1710242657754,"duration":0},"status":"passed","severity":"normal"},{"uid":"e2efb3eeebf564b4","name":"numPeers=0 -- returns all peers including all non-bootstrap with maxBootstrapPeers: 6","time":{"start":1710242657762,"stop":1710242657763,"duration":1},"status":"passed","severity":"normal"},{"uid":"6e85f01c4c33ef6f","name":"Check received message with timestamp: 1649153314 ","time":{"start":1710242646720,"stop":1710242646720,"duration":0},"status":"passed","severity":"normal"},{"uid":"2abb6c51e60f61f4","name":"should be able to decode the field with only RELAY set to true","time":{"start":1710242450273,"stop":1710242450274,"duration":1},"status":"passed","severity":"normal"},{"uid":"9a660f1a94ad24c9","name":"numPeers=3 -- returns total 3 peers, with max 4 bootstrap peers","time":{"start":1710242657753,"stop":1710242657754,"duration":1},"status":"passed","severity":"normal"},{"uid":"28984feaa7aa5c17","name":"different cluster, same shard: nodes don't connect","time":{"start":1710242657736,"stop":1710242657736,"duration":0},"status":"passed","severity":"normal"},{"uid":"6ccb429062813f36","name":"Waku message hash computation (meta attribute not present)","time":{"start":1710242445169,"stop":1710242445169,"duration":0},"status":"passed","severity":"normal"},{"uid":"cb04816b3bea6a06","name":"Waku message hash computation","time":{"start":1710242445167,"stop":1710242445168,"duration":1},"status":"passed","severity":"normal"},{"uid":"5355e607510c6779","name":"can start and stop the service","time":{"start":1710242470753,"stop":1710242470753,"duration":0},"status":"passed","severity":"normal"},{"uid":"268ef3adbda3dd20","name":"should throw error - invalid id","time":{"start":1710242450978,"stop":1710242450978,"duration":0},"status":"passed","severity":"normal"},{"uid":"27df4b8d7742d090","name":"should be able to encode the field with only FILTER set to true","time":{"start":1710242450269,"stop":1710242450270,"duration":1},"status":"passed","severity":"normal"},{"uid":"1d42b8b00595bd98","name":"numPeers=4 -- returns total 4 peers, with max 7 bootstrap peers","time":{"start":1710242657764,"stop":1710242657765,"duration":1},"status":"passed","severity":"normal"},{"uid":"9229c53c1728172f","name":"should properly create location multiaddrs - udp6","time":{"start":1710242450982,"stop":1710242450982,"duration":0},"status":"passed","severity":"normal"},{"uid":"3ad5514df157a5ad","name":"Push to array if already present","time":{"start":1710242442155,"stop":1710242442155,"duration":0},"status":"passed","severity":"normal"},{"uid":"3a28e316270e0f56","name":"Init the array if not present","time":{"start":1710242442153,"stop":1710242442154,"duration":1},"status":"passed","severity":"normal"},{"uid":"a3be390371b85ad9","name":"Round trip binary serialization","time":{"start":1710242455817,"stop":1710242455817,"duration":0},"status":"passed","severity":"normal"},{"uid":"f501a85798852b50","name":"Check received message containing unicode special characters","time":{"start":1710242646715,"stop":1710242646716,"duration":1},"status":"passed","severity":"normal"},{"uid":"3b5170cc91b30fc6","name":"Relay + Store","time":{"start":1710242450985,"stop":1710242450985,"duration":0},"status":"passed","severity":"normal"},{"uid":"fe9a6af6d1d144dc","name":"should throw an error for SingleShardInfos with different clusterIds","time":{"start":1710242442713,"stop":1710242442713,"duration":0},"status":"passed","severity":"normal"},{"uid":"55ecfffa3359e96f","name":"Decoder throws on undefined content topic","time":{"start":1710242476688,"stop":1710242476689,"duration":1},"status":"passed","severity":"normal"},{"uid":"42ab86a2f6f05079","name":"Check message with non string payload is not received","time":{"start":1710242646726,"stop":1710242646726,"duration":0},"status":"passed","severity":"normal"},{"uid":"d36d5984a4cfb412","name":"should configure sharding based on application and version for autosharding","time":{"start":1710242442728,"stop":1710242442728,"duration":0},"status":"passed","severity":"normal"},{"uid":"1724397a341dd454","name":"should configure sharding based on clusterId, application and version for autosharding with cluster iD 1","time":{"start":1710242442728,"stop":1710242442728,"duration":0},"status":"passed","severity":"normal"},{"uid":"accb06418ad4b52e","name":"Subscribe and receive messages on custom pubsubtopic","time":{"start":1710242566422,"stop":1710242566423,"duration":1},"status":"passed","severity":"normal"},{"uid":"9b81eff275b36fe7","name":"should not fail to stop the service if it was not started","time":{"start":1710242470753,"stop":1710242470753,"duration":0},"status":"passed","severity":"normal"},{"uid":"1bcfbd5b94193c60","name":"should correctly map /toychat/2/huilong/proto to shard index 3","time":{"start":1710242442705,"stop":1710242442705,"duration":0},"status":"passed","severity":"normal"},{"uid":"c259a0c9d909efb8","name":"should emit a peer event after start","time":{"start":1710242502112,"stop":1710242502113,"duration":1},"status":"passed","severity":"normal"},{"uid":"a05ec8ac6c21a425","name":"Ping on unsubscribed peer","time":{"start":1710242574111,"stop":1710242574111,"duration":0},"status":"passed","severity":"normal"},{"uid":"b5a4bec47bc1f833","name":"Unsubscribe topics the node is not subscribed to","time":{"start":1710242584191,"stop":1710242584193,"duration":2},"status":"passed","severity":"normal"},{"uid":"50612dd7b08fecbb","name":"should correctly encode and decode relay shards using rsv format (Bit Vector)","time":{"start":1710242442733,"stop":1710242442733,"duration":0},"status":"passed","severity":"normal"},{"uid":"3de49b93ceb72f83","name":"ENRTree (root): should error if DNS root entry signature is invalid","time":{"start":1710242466330,"stop":1710242466331,"duration":1},"status":"passed","severity":"normal"},{"uid":"1dc4acc2d249640","name":"should correctly map /0/toychat/2/huilong/proto to shard index 3","time":{"start":1710242442705,"stop":1710242442705,"duration":0},"status":"passed","severity":"normal"},{"uid":"4d28b238ea20d93c","name":"Sign & Recover","time":{"start":1710242477200,"stop":1710242477200,"duration":0},"status":"passed","severity":"normal"},{"uid":"94e5a5ae546bb1fd","name":"numPeers=3 -- returns total 3 peers, with max 2 bootstrap peers","time":{"start":1710242657748,"stop":1710242657749,"duration":1},"status":"passed","severity":"normal"},{"uid":"2b04ad8080d1230e","name":"should process correctly when SingleShardInfo has no clusterId but has a shard","time":{"start":1710242442726,"stop":1710242442727,"duration":1},"status":"passed","severity":"normal"},{"uid":"f7740b1ed163cd73","name":"should be called for every peer with PEER_EXCHANGE tags","time":{"start":1710242500586,"stop":1710242500587,"duration":1},"status":"passed","severity":"normal"},{"uid":"73bbe11e69117877","name":"numPeers=3 -- returns total 3 peers, with max 5 bootstrap peers","time":{"start":1710242657756,"stop":1710242657756,"duration":0},"status":"passed","severity":"normal"},{"uid":"b2dad10c79d327fe","name":"should only return 1 node with relay capability","time":{"start":1710242466850,"stop":1710242466850,"duration":0},"status":"passed","severity":"normal"},{"uid":"c1d56218944616a9","name":"should be able to encode the field with STORE and LIGHTPUSH protocols set to true","time":{"start":1710242450272,"stop":1710242450273,"duration":1},"status":"passed","severity":"normal"},{"uid":"c3a50fa2e24ceecf","name":"pre and post cipher","time":{"start":1710242477199,"stop":1710242477200,"duration":1},"status":"passed","severity":"normal"},{"uid":"fa5d4e5de3ab9194","name":"should correctly map /app/20/sometopic/someencoding to shard index 7","time":{"start":1710242442707,"stop":1710242442707,"duration":0},"status":"passed","severity":"normal"},{"uid":"a70f58ece9406dcb","name":"should emit `peer:discovery:bootstrap` event when a peer is discovered","time":{"start":1710242492872,"stop":1710242492876,"duration":4},"status":"passed","severity":"normal"},{"uid":"bc860b78bb67c7b6","name":"should not receive a peer event before start","time":{"start":1710242470754,"stop":1710242470755,"duration":1},"status":"passed","severity":"normal"},{"uid":"7854841a8aa612b7","name":"it tolerates circular branch references","time":{"start":1710242466848,"stop":1710242466848,"duration":0},"status":"passed","severity":"normal"},{"uid":"5595fd7094e9be94","name":"should correctly map a content topic to a pubsub topic","time":{"start":1710242442730,"stop":1710242442730,"duration":0},"status":"passed","severity":"normal"},{"uid":"f126bff75c03d0a3","name":"Unsubscribe 1 topic - node subscribed to 1 topic","time":{"start":1710242584184,"stop":1710242584186,"duration":2},"status":"passed","severity":"normal"},{"uid":"956c2118825fc2d0","name":"Sample","time":{"start":1710242450411,"stop":1710242450412,"duration":1},"status":"passed","severity":"normal"},{"uid":"7303c75e6a6f2649","name":"Fields are not dropped","time":{"start":1710242455336,"stop":1710242455337,"duration":1},"status":"passed","severity":"normal"},{"uid":"7ed76c036a2d97e0","name":"Ephemeral field is preserved - symmetric encryption","time":{"start":1710242502353,"stop":1710242502354,"duration":1},"status":"passed","severity":"normal"},{"uid":"a2bffe53b897a712","name":"Encoder throws on empty string content topic","time":{"start":1710242476687,"stop":1710242476688,"duration":1},"status":"passed","severity":"normal"},{"uid":"689daf9f390fe5fc","name":"Reopen subscription with peer with lost subscription","time":{"start":1710242574114,"stop":1710242574115,"duration":1},"status":"passed","severity":"normal"},{"uid":"e1ff7fc397cb6510","name":"isConnected bwtween 2 js-waku relay nodes","time":{"start":1710242545015,"stop":1710242545015,"duration":0},"status":"passed","severity":"normal"},{"uid":"50dae41ecd4449f2","name":"dispatchEvent via connectionManager","time":{"start":1710242533849,"stop":1710242533850,"duration":1},"status":"passed","severity":"normal"},{"uid":"db4be5fb123db1ad","name":"should be able to encode the field with only STORE set to true","time":{"start":1710242450268,"stop":1710242450269,"duration":1},"status":"passed","severity":"normal"},{"uid":"5701c468c550f761","name":"Ephemeral field is preserved - asymmetric encryption","time":{"start":1710242502355,"stop":1710242502355,"duration":0},"status":"passed","severity":"normal"},{"uid":"9059233bad26c678","name":"Check received message containing short","time":{"start":1710242646691,"stop":1710242646692,"duration":1},"status":"passed","severity":"normal"},{"uid":"8bd63b3f2c1815a6","name":"should correctly map /app/20/sometopic/someencoding to shard index 15 with networkShards 16","time":{"start":1710242442708,"stop":1710242442708,"duration":0},"status":"passed","severity":"normal"},{"uid":"99e7743cd8710586","name":"numPeers=0 -- returns all peers including all non-bootstrap with maxBootstrapPeers: 1","time":{"start":1710242657746,"stop":1710242657746,"duration":0},"status":"passed","severity":"normal"},{"uid":"a5dbadab89c1c352","name":"should emit `peer:connected:bootstrap` event when a peer is connected","time":{"start":1710242492881,"stop":1710242492883,"duration":2},"status":"passed","severity":"normal"},{"uid":"7659e26f366cc7ac","name":"should configure sharding based on clusterId, application and version for autosharding with cluster iD 4","time":{"start":1710242442729,"stop":1710242442729,"duration":0},"status":"passed","severity":"normal"},{"uid":"b74651608dd3f2e0","name":"numPeers=3 -- returns total 3 peers, with max 6 bootstrap peers","time":{"start":1710242657761,"stop":1710242657761,"duration":0},"status":"passed","severity":"normal"},{"uid":"e9791785ed39dd13","name":"numPeers=2 -- returns total 2 peers, with max 7 bootstrap peers","time":{"start":1710242657763,"stop":1710242657764,"duration":1},"status":"passed","severity":"normal"},{"uid":"3b60a75f1b44426c","name":"Check received message containing Script","time":{"start":1710242646711,"stop":1710242646711,"duration":0},"status":"passed","severity":"normal"},{"uid":"12e383199c6fa071","name":"should not be called more than DEFAULT_MAX_BOOTSTRAP_PEERS_ALLOWED times for bootstrap peers","time":{"start":1710242500585,"stop":1710242500585,"duration":0},"status":"passed","severity":"normal"},{"uid":"114d2599976ced3d","name":"returns a subset of values when wanted number is lesser than available values","time":{"start":1710242465330,"stop":1710242465331,"duration":1},"status":"passed","severity":"normal"},{"uid":"525d3602f4822b1e","name":"Should fail to subscribe with decoder with wrong pubsubTopic","time":{"start":1710242566424,"stop":1710242566425,"duration":1},"status":"passed","severity":"normal"},{"uid":"2dc15aae1839926a","name":"Ping on subscribed peer","time":{"start":1710242574112,"stop":1710242574113,"duration":1},"status":"passed","severity":"normal"},{"uid":"8c806b027e185dd6","name":"should not fail to start the service if it is already started","time":{"start":1710242470754,"stop":1710242470754,"duration":0},"status":"passed","severity":"normal"},{"uid":"b5e06f282923a09b","name":"should throw an error for non-numeric shard: /waku/2/rs/1/$","time":{"start":1710242442721,"stop":1710242442721,"duration":0},"status":"passed","severity":"normal"},{"uid":"484230b508c999d3","name":"Check received message containing escaped characters","time":{"start":1710242646715,"stop":1710242646715,"duration":0},"status":"passed","severity":"normal"},{"uid":"2e1c3d07260bd87e","name":"should throw an error for non-numeric clusterId: /waku/2/rs/y/1","time":{"start":1710242442720,"stop":1710242442720,"duration":0},"status":"passed","severity":"normal"},{"uid":"62e8581e5000afaf","name":"numPeers=4 -- returns total 4 peers, with max 6 bootstrap peers","time":{"start":1710242657761,"stop":1710242657762,"duration":1},"status":"passed","severity":"normal"},{"uid":"a9649e8895933281","name":"should properly create location multiaddrs - tcp","time":{"start":1710242450982,"stop":1710242450983,"duration":1},"status":"passed","severity":"normal"},{"uid":"a3c5f5a7a409d179","name":"Check message on other pubsub topic is not received","time":{"start":1710242646723,"stop":1710242646724,"duration":1},"status":"passed","severity":"normal"},{"uid":"e3d89af951f21ed9","name":"should correctly map /myapp/1/latest/proto to shard index 0","time":{"start":1710242442703,"stop":1710242442703,"duration":0},"status":"passed","severity":"normal"},{"uid":"597aa51c213ffe3f","name":"should throw an error for non-numeric clusterId: /waku/2/rs/$/1","time":{"start":1710242442720,"stop":1710242442721,"duration":1},"status":"passed","severity":"normal"},{"uid":"9206b3479cb5eb5b","name":"numPeers=1 -- returns one bootstrap peer ","time":{"start":1710242657758,"stop":1710242657760,"duration":2},"status":"passed","severity":"normal"},{"uid":"1db1e11c9108bf46","name":"Subscribe and receive messages on custom pubsubtopic","time":{"start":1710242566417,"stop":1710242566417,"duration":0},"status":"passed","severity":"normal"},{"uid":"b5a93b393d648d1a","name":"should only return 1 node with relay and store capability","time":{"start":1710242466850,"stop":1710242466850,"duration":0},"status":"passed","severity":"normal"},{"uid":"775423029505872f","name":"should set field with only RELAY enabled","time":{"start":1710242450984,"stop":1710242450984,"duration":0},"status":"passed","severity":"normal"},{"uid":"4a9ad439886881e3","name":"should be able to encode the field with ALL protocols set to false","time":{"start":1710242450271,"stop":1710242450272,"duration":1},"status":"passed","severity":"normal"},{"uid":"33b16d6cd3dc6a7","name":"should return only bootstrap peers up to maxBootstrapPeers","time":{"start":1710242455656,"stop":1710242455656,"duration":0},"status":"passed","severity":"normal"},{"uid":"586c3fd0c6cd341d","name":"Asymmetric encrypt & decrypt","time":{"start":1710242477198,"stop":1710242477198,"duration":0},"status":"passed","severity":"normal"},{"uid":"a10d79fc9944c1d8","name":"should add and remove event listeners correctly","time":{"start":1710242470757,"stop":1710242470757,"duration":0},"status":"passed","severity":"normal"},{"uid":"6efe6f7ef968af9e","name":"Check received message with timestamp: 1710242492649000000 ","time":{"start":1710242646717,"stop":1710242646718,"duration":1},"status":"passed","severity":"normal"},{"uid":"f2bcca6a8975a69b","name":"should emit a peer event after start","time":{"start":1710242470754,"stop":1710242470754,"duration":0},"status":"passed","severity":"normal"},{"uid":"71a2848e9b80eb96","name":"should encode/decode to RLP encoding","time":{"start":1710242450980,"stop":1710242450980,"duration":0},"status":"passed","severity":"normal"},{"uid":"7902d0ab38c92f22","name":"should set field with only LIGHTPUSH enabled","time":{"start":1710242450984,"stop":1710242450985,"duration":1},"status":"passed","severity":"normal"},{"uid":"af02247e21cf5c0b","name":"should set field with all protocols enabled","time":{"start":1710242450983,"stop":1710242450984,"duration":1},"status":"passed","severity":"normal"},{"uid":"71ffbff6ba93c101","name":"numPeers=0 -- returns all peers including all non-bootstrap with maxBootstrapPeers: 3","time":{"start":1710242657752,"stop":1710242657752,"duration":0},"status":"passed","severity":"normal"},{"uid":"a0768a1970730f7a","name":"Ping on peer without subscriptions","time":{"start":1710242523191,"stop":1710242523191,"duration":0},"status":"passed","severity":"normal"},{"uid":"47e20f0c7f1c1007","name":"isConnected should return true after first peer connects","time":{"start":1710242545014,"stop":1710242545014,"duration":0},"status":"passed","severity":"normal"},{"uid":"9c63a3175b6f4bb1","name":"Check received message containing Basic HTML tag","time":{"start":1710242646713,"stop":1710242646713,"duration":0},"status":"passed","severity":"normal"},{"uid":"4c4e619b21527427","name":"should not receive a peer event before start","time":{"start":1710242502113,"stop":1710242502113,"duration":0},"status":"passed","severity":"normal"},{"uid":"afc430e5e0f15202","name":"Ping on unsubscribed peer","time":{"start":1710242523192,"stop":1710242523192,"duration":0},"status":"passed","severity":"normal"},{"uid":"ba7195591004db60","name":"Accepts a valid Waku Message","time":{"start":1710242459229,"stop":1710242459230,"duration":1},"status":"passed","severity":"normal"},{"uid":"ee91348a59e15f0a","name":"should convert content topics to PubsubTopics for autosharding","time":{"start":1710242442713,"stop":1710242442714,"duration":1},"status":"passed","severity":"normal"},{"uid":"d019a19ad3bc48db","name":"numPeers=1 -- returns one bootstrap peer ","time":{"start":1710242657747,"stop":1710242657747,"duration":0},"status":"passed","severity":"normal"},{"uid":"f336e175bb57995a","name":"ignores unrecognized TXT record formats","time":{"start":1710242466849,"stop":1710242466849,"duration":0},"status":"passed","severity":"normal"},{"uid":"c25928e7d9c96b5b","name":"removeEventListener with correct event","time":{"start":1710242533845,"stop":1710242533846,"duration":1},"status":"passed","severity":"normal"},{"uid":"1ca7d1e7451192c8","name":"should return the pubsub topic directly if a string is provided","time":{"start":1710242442726,"stop":1710242442726,"duration":0},"status":"passed","severity":"normal"},{"uid":"e2cc20b5d027398f","name":"Ping on subscribed peer","time":{"start":1710242574108,"stop":1710242574108,"duration":0},"status":"passed","severity":"normal"},{"uid":"db912b30d56c9ac9","name":"Subscribe and receive messages from 2 nwaku nodes each with different pubsubtopics","time":{"start":1710242566418,"stop":1710242566418,"duration":0},"status":"passed","severity":"normal"},{"uid":"76297c1799110ccd","name":"should properly compute the node id","time":{"start":1710242450979,"stop":1710242450979,"duration":0},"status":"passed","severity":"normal"},{"uid":"77c375b92dd434b","name":"should properly create location multiaddrs - udp","time":{"start":1710242450982,"stop":1710242450982,"duration":0},"status":"passed","severity":"normal"},{"uid":"a5cb2e88505871f4","name":"isConnected should return false after all peers disconnect","time":{"start":1710242545014,"stop":1710242545014,"duration":0},"status":"passed","severity":"normal"},{"uid":"2ecbbd7a1d844778","name":"should throw an error for invalid PubsubTopic format: /waku/1/rs/1/2","time":{"start":1710242442717,"stop":1710242442717,"duration":0},"status":"passed","severity":"normal"},{"uid":"3b9fc5cf3d80f2da","name":"should return empty list for no shard","time":{"start":1710242442716,"stop":1710242442716,"duration":0},"status":"passed","severity":"normal"},{"uid":"9845e4282c7632ef","name":"Check message with invalid timestamp is not received","time":{"start":1710242646722,"stop":1710242646722,"duration":0},"status":"passed","severity":"normal"},{"uid":"b5c9b5d3e319925a","name":"should return the correct number of peers based on numPeers and maxBootstrapPeers","time":{"start":1710242657765,"stop":1710242657766,"duration":1},"status":"passed","severity":"normal"},{"uid":"c1e6e62570e00617","name":"should emit `waku:offline` event only when all peers disconnect","time":{"start":1710242545012,"stop":1710242545013,"duration":1},"status":"passed","severity":"normal"},{"uid":"5f7a42ec0bfb2527","name":"throws on content topic with empty version field","time":{"start":1710242442700,"stop":1710242442701,"duration":1},"status":"passed","severity":"normal"},{"uid":"f741ff07ab2fb1b1","name":"same cluster, different shard: nodes don't connect","time":{"start":1710242657735,"stop":1710242657735,"duration":0},"status":"passed","severity":"normal"},{"uid":"34d3d47f65339c52","name":"ENRTree (root): should parse and verify and DNS root entry","time":{"start":1710242466329,"stop":1710242466329,"duration":0},"status":"passed","severity":"normal"},{"uid":"7446b5bf1502f97f","name":"handles empty contentTopics array correctly","time":{"start":1710242442729,"stop":1710242442730,"duration":1},"status":"passed","severity":"normal"},{"uid":"f78cc06c8ddaa1ca","name":"should retrieve 3 multiaddrs for test.waku.nodes.status.im","time":{"start":1710242502115,"stop":1710242502115,"duration":0},"status":"skipped","severity":"normal"},{"uid":"82284f277829e9c2","name":"should throw an error for non-numeric clusterId: /waku/2/rs/x/1","time":{"start":1710242442719,"stop":1710242442719,"duration":0},"status":"passed","severity":"normal"},{"uid":"8f30e9535e08fe21","name":"should set field with only FILTER enabled","time":{"start":1710242450984,"stop":1710242450984,"duration":0},"status":"passed","severity":"normal"},{"uid":"e7708a6f39e769fc","name":"Encoder throws on empty string content topic","time":{"start":1710242455819,"stop":1710242455820,"duration":1},"status":"passed","severity":"normal"},{"uid":"e34c1b2f2cf2c0d1","name":"getPeersByDiscovery","time":{"start":1710242533847,"stop":1710242533848,"duration":1},"status":"passed","severity":"normal"},{"uid":"f098d1543b5f9840","name":"ENRTree (root): should error if DNS root entry is malformed","time":{"start":1710242466331,"stop":1710242466331,"duration":0},"status":"passed","severity":"normal"},{"uid":"29139f92d30d770e","name":"Encoder throws on undefined content topic","time":{"start":1710242478467,"stop":1710242478468,"duration":1},"status":"passed","severity":"normal"},{"uid":"dfeb3a1654400806","name":"Round trip binary encryption [symmetric, no signature]","time":{"start":1710242476683,"stop":1710242476685,"duration":2},"status":"passed","severity":"normal"},{"uid":"d8d8e55df1aa046c","name":"should set field with only STORE enabled","time":{"start":1710242450984,"stop":1710242450984,"duration":0},"status":"passed","severity":"normal"},{"uid":"f86a7f01d18a1d95","name":"should not receive a peer event after stop","time":{"start":1710242502113,"stop":1710242502114,"duration":1},"status":"passed","severity":"normal"},{"uid":"7ee7b936170a56c9","name":"removeEventListener with wrong event","time":{"start":1710242533846,"stop":1710242533847,"duration":1},"status":"passed","severity":"normal"},{"uid":"53634a7807269ff2","name":"same cluster, same shard: nodes connect (autosharding)","time":{"start":1710242657738,"stop":1710242657738,"duration":0},"status":"passed","severity":"normal"},{"uid":"8625edc3f1cbbd27","name":"numPeers=3 -- returns total 3 peers, with max 7 bootstrap peers","time":{"start":1710242657764,"stop":1710242657764,"duration":0},"status":"passed","severity":"normal"},{"uid":"607578f1ae8c313b","name":"Check received message containing Arabic","time":{"start":1710242646709,"stop":1710242646710,"duration":1},"status":"passed","severity":"normal"},{"uid":"49a9adb96a852c83","name":"retrieves a single peer","time":{"start":1710242466847,"stop":1710242466847,"duration":0},"status":"passed","severity":"normal"},{"uid":"ad767e31af9750fb","name":"numPeers=2 -- returns total 2 peers, with max 3 bootstrap peers","time":{"start":1710242657750,"stop":1710242657751,"duration":1},"status":"passed","severity":"normal"},{"uid":"53e047bd3682f9a3","name":"should throw an error for non-numeric shard: /waku/2/rs/1/-","time":{"start":1710242442723,"stop":1710242442723,"duration":0},"status":"passed","severity":"normal"},{"uid":"7c37d0817109cf80","name":"same cluster, different shard: nodes connect (autosharding)","time":{"start":1710242657740,"stop":1710242657741,"duration":1},"status":"passed","severity":"normal"},{"uid":"762dab41e3d4b9cf","name":"should be able to decode the field with only FILTER set to true","time":{"start":1710242450274,"stop":1710242450274,"duration":0},"status":"passed","severity":"normal"},{"uid":"3eb93fe9de73575d","name":"Check received message containing XML","time":{"start":1710242646711,"stop":1710242646712,"duration":1},"status":"passed","severity":"normal"},{"uid":"cb6f620e0cfa0e5e","name":"should get / set UDP multiaddr","time":{"start":1710242450980,"stop":1710242450981,"duration":1},"status":"passed","severity":"normal"},{"uid":"c1d2259415d11544","name":"should throw an error for non-numeric shard: /waku/2/rs/1/","time":{"start":1710242442723,"stop":1710242442724,"duration":1},"status":"passed","severity":"normal"},{"uid":"ea7e4c29641e97b7","name":"should aggregate SingleShardInfos into a ShardInfo","time":{"start":1710242442712,"stop":1710242442712,"duration":0},"status":"passed","severity":"normal"},{"uid":"d98767706a99c40f","name":"can start the service","time":{"start":1710242470752,"stop":1710242470752,"duration":0},"status":"passed","severity":"normal"},{"uid":"56238270a2e34328","name":"All","time":{"start":1710242504458,"stop":1710242504459,"duration":1},"status":"passed","severity":"normal"},{"uid":"aa0e0a12188cee26","name":"Ping on unsubscribed peer","time":{"start":1710242574114,"stop":1710242574114,"duration":0},"status":"passed","severity":"normal"},{"uid":"c339c1ca797e0542","name":"Subscribe and receive messages on 2 different pubsubtopics","time":{"start":1710242566417,"stop":1710242566418,"duration":1},"status":"passed","severity":"normal"},{"uid":"bda667de7dd79bea","name":"tcp ip4 address","time":{"start":1710242450229,"stop":1710242450233,"duration":4},"status":"passed","severity":"normal"},{"uid":"21b08a0b4bd93c03","name":"should throw an error for invalid PubsubTopic format: /waku/2/r/1/2","time":{"start":1710242442718,"stop":1710242442718,"duration":0},"status":"passed","severity":"normal"},{"uid":"11b1c0b4be1c8222","name":"should throw an error for non-numeric shard: /waku/2/rs/1/\\","time":{"start":1710242442722,"stop":1710242442722,"duration":0},"status":"passed","severity":"normal"},{"uid":"96fc3afecd7aed9a","name":"throws on content topic with empty encoding field","time":{"start":1710242442701,"stop":1710242442702,"duration":1},"status":"passed","severity":"normal"},{"uid":"253ec9b2144f332d","name":"should throw an error for non-numeric shard: /waku/2/rs/1/x","time":{"start":1710242442719,"stop":1710242442719,"duration":0},"status":"passed","severity":"normal"},{"uid":"9383acd923e438de","name":"Unsubscribes all - node subscribed to 10 topics","time":{"start":1710242584195,"stop":1710242584196,"duration":1},"status":"passed","severity":"normal"},{"uid":"1a5be8e63aa42b65","name":"throws on content topic with too few or too many fields","time":{"start":1710242442697,"stop":1710242442697,"duration":0},"status":"passed","severity":"normal"},{"uid":"58b94ebf0803ae56","name":"should throw an error for an unconfigured topic","time":{"start":1710242442725,"stop":1710242442725,"duration":0},"status":"passed","severity":"normal"},{"uid":"f75685d530af5b2c","name":"Check message with no pubsub topic is not received","time":{"start":1710242646724,"stop":1710242646725,"duration":1},"status":"passed","severity":"normal"},{"uid":"d70c802497312e9e","name":"numPeers=2 -- returns total 2 peers, with max 2 bootstrap peers","time":{"start":1710242657748,"stop":1710242657748,"duration":0},"status":"passed","severity":"normal"},{"uid":"584e39d73059aaad","name":"1 Store, 2 fetches","time":{"start":1710242466573,"stop":1710242466574,"duration":1},"status":"passed","severity":"normal"},{"uid":"b064f8398903d3f2","name":"1 Store, 2 relays, 2 fetches","time":{"start":1710242466574,"stop":1710242466574,"duration":0},"status":"passed","severity":"normal"},{"uid":"c497e9cabea1dccd","name":"throws on content topic with generation field greater than 0","time":{"start":1710242442699,"stop":1710242442699,"duration":0},"status":"passed","severity":"normal"},{"uid":"717d22ba0c581d8d","name":"handles different networkShards values correctly","time":{"start":1710242442711,"stop":1710242442711,"duration":0},"status":"passed","severity":"normal"},{"uid":"aeeebddd5e815dd7","name":"caches peers it previously fetched","time":{"start":1710242466849,"stop":1710242466849,"duration":0},"status":"passed","severity":"normal"},{"uid":"1c3f56df37469059","name":"1 Relay, 1 fetch","time":{"start":1710242466573,"stop":1710242466573,"duration":0},"status":"passed","severity":"normal"},{"uid":"ec06d0776f8f3520","name":"numPeers=1 -- returns one bootstrap peer ","time":{"start":1710242657750,"stop":1710242657750,"duration":0},"status":"passed","severity":"normal"},{"uid":"50ad789f4991aad7","name":"should handle clusterId, application and version for autosharding with cluster iD 1","time":{"start":1710242442715,"stop":1710242442715,"duration":0},"status":"passed","severity":"normal"},{"uid":"81ff883f23291ae1","name":"Decoder throws on empty string content topic","time":{"start":1710242478469,"stop":1710242478469,"duration":0},"status":"passed","severity":"normal"},{"uid":"2b1b83fd2002772","name":"should properly create location multiaddrs - tcp6","time":{"start":1710242450982,"stop":1710242450982,"duration":0},"status":"passed","severity":"normal"},{"uid":"11d619dcbafaaa10","name":"Decoder throws on undefined content topic","time":{"start":1710242455820,"stop":1710242455820,"duration":0},"status":"passed","severity":"normal"},{"uid":"b58938a40e4c7e6d","name":"should correctly map /app/27/sometopic/someencoding to shard index 5","time":{"start":1710242442707,"stop":1710242442707,"duration":0},"status":"passed","severity":"normal"},{"uid":"11b6f8450d25a7fd","name":"isConnected return false after peer stops","time":{"start":1710242545014,"stop":1710242545015,"duration":1},"status":"passed","severity":"normal"},{"uid":"32111f6ba2dc6b7a","name":"Round trip binary encryption [symmetric, signature]","time":{"start":1710242476685,"stop":1710242476686,"duration":1},"status":"passed","severity":"normal"},{"uid":"1f96ced588e6273a","name":"should properly create location multiaddrs - udp4","time":{"start":1710242450981,"stop":1710242450981,"duration":0},"status":"passed","severity":"normal"},{"uid":"494173bbb3df1eb","name":"Check received message with timestamp: 1710242492649 ","time":{"start":1710242646718,"stop":1710242646719,"duration":1},"status":"passed","severity":"normal"},{"uid":"a8b2117007cec6e5","name":"should correctly encode and decode relay shards using rs format (Index List)","time":{"start":1710242442733,"stop":1710242442733,"duration":0},"status":"passed","severity":"normal"},{"uid":"fd8cd532954a41ef","name":"should be able to encode the field with RELAY and FILTER protocols set to true","time":{"start":1710242450272,"stop":1710242450272,"duration":0},"status":"passed","severity":"normal"},{"uid":"5fcf5345d2f9c306","name":"Subscribe and receive messages from 2 nwaku nodes each with different pubsubtopics","time":{"start":1710242566421,"stop":1710242566421,"duration":0},"status":"passed","severity":"normal"},{"uid":"cc29b7ac2f7427a2","name":"ENRTree (root): should error if DNS root entry is mis-prefixed","time":{"start":1710242466329,"stop":1710242466330,"duration":1},"status":"passed","severity":"normal"},{"uid":"cd237907d7046e46","name":"ENRTree (tree): should error if DNS tree entry is misformatted","time":{"start":1710242466334,"stop":1710242466335,"duration":1},"status":"passed","severity":"normal"},{"uid":"3687bf8c5c878a41","name":"Encoder throws on empty string content topic","time":{"start":1710242478468,"stop":1710242478468,"duration":0},"status":"passed","severity":"normal"},{"uid":"21140a115f22cda7","name":"throws on content topic with empty topic name field","time":{"start":1710242442701,"stop":1710242442701,"duration":0},"status":"passed","severity":"normal"},{"uid":"86767f977b0d2604","name":"numPeers=3 -- returns total 3 peers, with max 3 bootstrap peers","time":{"start":1710242657751,"stop":1710242657751,"duration":0},"status":"passed","severity":"normal"},{"uid":"3e8bf3897f0fcee4","name":"should emit `waku:offline` event when all peers disconnect","time":{"start":1710242492884,"stop":1710242492886,"duration":2},"status":"passed","severity":"normal"},{"uid":"74c42ad6d078f47f","name":"numPeers=2 -- returns total 2 peers, with max 5 bootstrap peers","time":{"start":1710242657755,"stop":1710242657756,"duration":1},"status":"passed","severity":"normal"},{"uid":"1cf187d429ffeec0","name":"should return all non-bootstrap peers and no bootstrap peer when numPeers is 0 and maxBootstrapPeers is 0","time":{"start":1710242455654,"stop":1710242455655,"duration":1},"status":"passed","severity":"normal"},{"uid":"4146de0f03c006aa","name":"should throw an error for insufficient data","time":{"start":1710242442733,"stop":1710242442734,"duration":1},"status":"passed","severity":"normal"},{"uid":"b7f15d2a184fe7aa","name":"different cluster, same shard: nodes don't connect (autosharding)","time":{"start":1710242657741,"stop":1710242657741,"duration":0},"status":"passed","severity":"normal"},{"uid":"fa9b3be35dc0852b","name":"Ephemeral field is preserved - encoder v0","time":{"start":1710242502352,"stop":1710242502352,"duration":0},"status":"passed","severity":"normal"},{"uid":"3892eae3ae82d164","name":"should not throw an error when the topic is within a list of configured topics","time":{"start":1710242442725,"stop":1710242442725,"duration":0},"status":"passed","severity":"normal"},{"uid":"1abe445b21418574","name":"Check received message containing JSON","time":{"start":1710242646713,"stop":1710242646714,"duration":1},"status":"passed","severity":"normal"},{"uid":"b1dddfd7b4ebc532","name":"same cluster, same shard: nodes connect","time":{"start":1710242657733,"stop":1710242657734,"duration":1},"status":"passed","severity":"normal"},{"uid":"6dac96b81729a311","name":"should decode valid enr with tcp successfully","time":{"start":1710242450977,"stop":1710242450977,"duration":0},"status":"passed","severity":"normal"},{"uid":"c595a63d960dd132","name":"should throw an error for non-numeric shard: /waku/2/rs/1/y","time":{"start":1710242442720,"stop":1710242442720,"duration":0},"status":"passed","severity":"normal"},{"uid":"f2394f9b2974d54e","name":"Reopen subscription with peer with lost subscription","time":{"start":1710242574112,"stop":1710242574112,"duration":0},"status":"passed","severity":"normal"},{"uid":"28a61d4c736e72ad","name":"should be able to encode the field with ALL protocols set to true","time":{"start":1710242450270,"stop":1710242450271,"duration":1},"status":"passed","severity":"normal"},{"uid":"ca753f87a100ed99","name":"should return one bootstrap peer, and all non-boostrap peers, when numPeers is 0 & maxBootstrap is 1","time":{"start":1710242455655,"stop":1710242455655,"duration":0},"status":"passed","severity":"normal"},{"uid":"82e3dd004cbe99ac","name":"Rejects garbage","time":{"start":1710242459231,"stop":1710242459231,"duration":0},"status":"passed","severity":"normal"},{"uid":"e5e05b68f560b918","name":"Subscribe and receive messages on 2 different pubsubtopics","time":{"start":1710242566423,"stop":1710242566423,"duration":0},"status":"passed","severity":"normal"},{"uid":"6db86b6bc084b8e0","name":"groups content topics by expected pubsub topic","time":{"start":1710242442709,"stop":1710242442710,"duration":1},"status":"passed","severity":"normal"},{"uid":"5fd4f9fa8bd9361c","name":"Unsubscribe 1 topic - node subscribed to 2 topics","time":{"start":1710242584186,"stop":1710242584189,"duration":3},"status":"passed","severity":"normal"},{"uid":"d912e0946857f699","name":"Ping on peer without subscriptions","time":{"start":1710242574109,"stop":1710242574111,"duration":2},"status":"passed","severity":"normal"},{"uid":"2c0a3add1623cdbf","name":"ENRTree (branch): should parse and verify a single component DNS branch entry","time":{"start":1710242466335,"stop":1710242466335,"duration":0},"status":"passed","severity":"normal"},{"uid":"8e4110b32b3119a3","name":"should not throw an error for a single configured topic","time":{"start":1710242442725,"stop":1710242442725,"duration":0},"status":"passed","severity":"normal"},{"uid":"5c4e8f15723451d7","name":"should retrieve 3 multiaddrs for test.waku.nodes.status.im","time":{"start":1710242466852,"stop":1710242466852,"duration":0},"status":"skipped","severity":"normal"},{"uid":"cfbcdef5d2628ac1","name":"should throw an error for invalid PubsubTopic format: /waku/2/rs/1/2/extra","time":{"start":1710242442719,"stop":1710242442719,"duration":0},"status":"passed","severity":"normal"},{"uid":"55e3b61fb1b465d7","name":"throws on content topic with empty application field","time":{"start":1710242442700,"stop":1710242442700,"duration":0},"status":"passed","severity":"normal"},{"uid":"18761a36d54b0bd5","name":"should decode valid ENR with multiaddrs successfully [shared test vector]","time":{"start":1710242450976,"stop":1710242450977,"duration":1},"status":"passed","severity":"normal"},{"uid":"6367c15feb159a25","name":"should encodeTxt and decodeTxt","time":{"start":1710242450976,"stop":1710242450976,"duration":0},"status":"passed","severity":"normal"},{"uid":"b3bd60e54d72a1c5","name":"should throw an error for non-numeric clusterId: /waku/2/rs/ /1","time":{"start":1710242442724,"stop":1710242442724,"duration":0},"status":"passed","severity":"normal"},{"uid":"481604543f2d18f","name":"Should fail to subscribe with decoder with wrong pubsubTopic","time":{"start":1710242566421,"stop":1710242566422,"duration":1},"status":"passed","severity":"normal"},{"uid":"fd1b0304d4399bee","name":"should correctly map /app/20/sometopic/someencoding to shard index 1 with networkShards 2","time":{"start":1710242442708,"stop":1710242442708,"duration":0},"status":"passed","severity":"normal"},{"uid":"c9a488a9bbbf86d5","name":"should throw an error if shards are undefined for static sharding","time":{"start":1710242442716,"stop":1710242442716,"duration":0},"status":"passed","severity":"normal"},{"uid":"5eabe0ceb1d27329","name":"can start and stop the service","time":{"start":1710242502111,"stop":1710242502111,"duration":0},"status":"passed","severity":"normal"},{"uid":"c8df5e0c498090ac","name":"numPeers=0 -- returns all peers including all non-bootstrap with maxBootstrapPeers: 5","time":{"start":1710242657757,"stop":1710242657758,"duration":1},"status":"passed","severity":"normal"},{"uid":"bc6b96cb0d004f00","name":"should configure sharding based on clusterId, application and version for autosharding with cluster iD 0","time":{"start":1710242442728,"stop":1710242442728,"duration":0},"status":"passed","severity":"normal"},{"uid":"39a67cac4e36745","name":"listenerCount","time":{"start":1710242533848,"stop":1710242533849,"duration":1},"status":"passed","severity":"normal"},{"uid":"42104601802561f4","name":"should throw an error for empty SingleShardInfos array","time":{"start":1710242442713,"stop":1710242442713,"duration":0},"status":"passed","severity":"normal"},{"uid":"d15eb69edf8953f2","name":"Check message received after nwaku node is restarted","time":{"start":1710242646727,"stop":1710242646727,"duration":0},"status":"skipped","severity":"normal"},{"uid":"c1851f70129003f6","name":"numPeers=3 -- returns total 3 peers, with max 1 bootstrap peers","time":{"start":1710242657744,"stop":1710242657744,"duration":0},"status":"passed","severity":"normal"},{"uid":"df8cdf6742864d45","name":"should map different content topics to different pubsub topics based on shard index","time":{"start":1710242442730,"stop":1710242442730,"duration":0},"status":"passed","severity":"normal"},{"uid":"e6011e27685ae977","name":"should correctly map /statusim/1/community/cbor to shard index 4","time":{"start":1710242442706,"stop":1710242442706,"duration":0},"status":"passed","severity":"normal"},{"uid":"41df631bdfaa4b1c","name":"should throw error - no id","time":{"start":1710242450977,"stop":1710242450977,"duration":0},"status":"passed","severity":"normal"},{"uid":"e8ed1ce124cbe476","name":"different cluster, different shard: nodes don't connect","time":{"start":1710242657737,"stop":1710242657737,"duration":0},"status":"passed","severity":"normal"},{"uid":"c0457aa16d77ce17","name":"Ping on peer without subscriptions","time":{"start":1710242574113,"stop":1710242574113,"duration":0},"status":"passed","severity":"normal"},{"uid":"a89e5ab69b68dff1","name":"should be able to decode the field with ALL protocols set to true","time":{"start":1710242450275,"stop":1710242450277,"duration":2},"status":"passed","severity":"normal"},{"uid":"dd976731e106917d","name":"should be able to decode the field with only LIGHTPUSH set to true","time":{"start":1710242450275,"stop":1710242450275,"duration":0},"status":"passed","severity":"normal"},{"uid":"1b8df04107bbe101","name":"Decoder throws on empty string content topic","time":{"start":1710242455820,"stop":1710242455820,"duration":0},"status":"passed","severity":"normal"},{"uid":"333a4e5916176902","name":"Check received message containing special chars","time":{"start":1710242646703,"stop":1710242646709,"duration":6},"status":"passed","severity":"normal"},{"uid":"4ccf1484a4cde92c","name":"should return valid sharding parameters for static sharding","time":{"start":1710242442727,"stop":1710242442727,"duration":0},"status":"passed","severity":"normal"},{"uid":"ad0661ea46664efa","name":"should encode/decode to text encoding","time":{"start":1710242450980,"stop":1710242450980,"duration":0},"status":"passed","severity":"normal"},{"uid":"85866f70a3dd0e16","name":"should handle a minimal index list","time":{"start":1710242442732,"stop":1710242442733,"duration":1},"status":"passed","severity":"normal"},{"uid":"1ced13b7917e6843","name":"numPeers=1 -- returns one bootstrap peer ","time":{"start":1710242657755,"stop":1710242657755,"duration":0},"status":"passed","severity":"normal"},{"uid":"7b32d86b324a8e46","name":"Unsubscribe 2 topics - node subscribed to 2 topics","time":{"start":1710242584189,"stop":1710242584191,"duration":2},"status":"passed","severity":"normal"},{"uid":"e17167ca94c24073","name":"should return unique PubsubTopics for static sharding","time":{"start":1710242442714,"stop":1710242442714,"duration":0},"status":"passed","severity":"normal"},{"uid":"cb66fb480af4e310","name":"should extract SingleShardInfo from a valid PubsubTopic","time":{"start":1710242442717,"stop":1710242442717,"duration":0},"status":"passed","severity":"normal"},{"uid":"5f63b92cf70861ae","name":"should not fail to start the service if it is already started","time":{"start":1710242502112,"stop":1710242502112,"duration":0},"status":"passed","severity":"normal"},{"uid":"e4b693e466f33b6","name":"should be able to decode the field with ALL protocols set to false","time":{"start":1710242450277,"stop":1710242450277,"duration":0},"status":"passed","severity":"normal"},{"uid":"cfc58bb2892381c3","name":"should correctly map /waku/2/content/test.js to shard index 1","time":{"start":1710242442703,"stop":1710242442703,"duration":0},"status":"passed","severity":"normal"},{"uid":"8969b4976c97aaa2","name":"Check received message containing SQL Injection","time":{"start":1710242646710,"stop":1710242646711,"duration":1},"status":"passed","severity":"normal"},{"uid":"df613840f20a0d2e","name":"recovers when dns.resolve returns empty","time":{"start":1710242466848,"stop":1710242466848,"duration":0},"status":"passed","severity":"normal"},{"uid":"3c6e37730bfb357e","name":"Encoder throws on undefined content topic","time":{"start":1710242455819,"stop":1710242455819,"duration":0},"status":"passed","severity":"normal"},{"uid":"6a3802c58a71a5ee","name":"returns all values when wanted number matches available values","time":{"start":1710242465327,"stop":1710242465329,"duration":2},"status":"passed","severity":"normal"},{"uid":"46be0c02206cef32","name":"numPeers=4 -- returns total 4 peers, with max 4 bootstrap peers","time":{"start":1710242657754,"stop":1710242657754,"duration":0},"status":"passed","severity":"normal"},{"uid":"666c02aabbd6f4ef","name":"numPeers=2 -- returns total 2 peers, with max 4 bootstrap peers","time":{"start":1710242657753,"stop":1710242657753,"duration":0},"status":"passed","severity":"normal"},{"uid":"46d2edb3278cfd67","name":"should emit `peer:discovery:peer-exchange` event when a peer is discovered","time":{"start":1710242492878,"stop":1710242492879,"duration":1},"status":"passed","severity":"normal"},{"uid":"66a57bfafae6dd7e","name":"should throw error - no id","time":{"start":1710242450978,"stop":1710242450978,"duration":0},"status":"passed","severity":"normal"},{"uid":"1208d9952baef96c","name":"should use DNS peer discovery with light client","time":{"start":1710242502114,"stop":1710242502115,"duration":1},"status":"skipped","severity":"normal"},{"uid":"cbef228dfb2de488","name":"should be able to decode the field with RELAY and FILTER protocols set to true","time":{"start":1710242450278,"stop":1710242450278,"duration":0},"status":"passed","severity":"normal"},{"uid":"11380849837e659e","name":"Check message received after jswaku node is restarted","time":{"start":1710242646727,"stop":1710242646727,"duration":0},"status":"skipped","severity":"normal"},{"uid":"db998da5ff0b24dd","name":"throws an error for improperly formatted content topics","time":{"start":1710242442711,"stop":1710242442711,"duration":0},"status":"passed","severity":"normal"},{"uid":"b41b69365a1cd138","name":"should be called for bootstrap peers","time":{"start":1710242500584,"stop":1710242500584,"duration":0},"status":"passed","severity":"normal"},{"uid":"c43ecf9a76f7162f","name":"should throw an error for missing sharding configuration","time":{"start":1710242442729,"stop":1710242442729,"duration":0},"status":"passed","severity":"normal"},{"uid":"e5eefbeb1658de4e","name":"Check received message containing long","time":{"start":1710242646692,"stop":1710242646701,"duration":9},"status":"passed","severity":"normal"},{"uid":"226a75987bbfa827","name":"should set field with all protocols disabled","time":{"start":1710242450983,"stop":1710242450983,"duration":0},"status":"passed","severity":"normal"},{"uid":"399aa24feba1b6c2","name":"udp ip6 address","time":{"start":1710242450235,"stop":1710242450235,"duration":0},"status":"passed","severity":"normal"},{"uid":"8857c2ba675f2261","name":"should throw an error for invalid PubsubTopic format: /waku/2/rs","time":{"start":1710242442718,"stop":1710242442718,"duration":0},"status":"passed","severity":"normal"},{"uid":"33acf91f5bb9fbbd","name":"numPeers=4 -- returns total 4 peers, with max 3 bootstrap peers","time":{"start":1710242657751,"stop":1710242657752,"duration":1},"status":"passed","severity":"normal"},{"uid":"e26f56c00d990890","name":"Ping on subscribed peer","time":{"start":1710242523191,"stop":1710242523191,"duration":0},"status":"passed","severity":"normal"},{"uid":"82418a85aa3eb2d0","name":"numPeers=1 -- returns one bootstrap peer ","time":{"start":1710242657743,"stop":1710242657743,"duration":0},"status":"passed","severity":"normal"},{"uid":"a6846ae424d45e59","name":"should correctly map /0/statusim/1/community/cbor to shard index 4","time":{"start":1710242442706,"stop":1710242442706,"duration":0},"status":"passed","severity":"normal"},{"uid":"42e5d705827f81f4","name":"1 Relay, 1 Filter, gives up","time":{"start":1710242466574,"stop":1710242466575,"duration":1},"status":"passed","severity":"normal"},{"uid":"69f1b2091dc56481","name":"should only return 1 node with store capability","time":{"start":1710242466850,"stop":1710242466851,"duration":1},"status":"passed","severity":"normal"},{"uid":"9e7e9408aa95a82c","name":"ENRTree (tree): should parse a DNS tree entry","time":{"start":1710242466331,"stop":1710242466333,"duration":2},"status":"passed","severity":"normal"},{"uid":"c7d395ee4f4d37da","name":"can start the service","time":{"start":1710242502110,"stop":1710242502111,"duration":1},"status":"passed","severity":"normal"},{"uid":"6d5a9656e14ef2e0","name":"should throw an error for non-numeric shard: /waku/2/rs/1/!","time":{"start":1710242442721,"stop":1710242442722,"duration":1},"status":"passed","severity":"normal"},{"uid":"7b22f807fa570a9b","name":"Round trip binary encryption [ecies, signature]","time":{"start":1710242478466,"stop":1710242478467,"duration":1},"status":"passed","severity":"normal"},{"uid":"328c854dbcb421d1","name":"should derive a pubsub topic using contentTopic when SingleShardInfo only contains clusterId","time":{"start":1710242442727,"stop":1710242442727,"duration":0},"status":"passed","severity":"normal"},{"uid":"7a9455f38031a1b6","name":"Ephemeral messages are not stored","time":{"start":1710242502351,"stop":1710242502351,"duration":0},"status":"passed","severity":"normal"},{"uid":"8df8578d3905d4d8","name":"should handle clusterId, application and version for autosharding with cluster iD 0","time":{"start":1710242442715,"stop":1710242442715,"duration":0},"status":"passed","severity":"normal"},{"uid":"95364da7ae9b0e5a","name":"should emit `waku:online` event only when first peer is connected","time":{"start":1710242545012,"stop":1710242545012,"duration":0},"status":"passed","severity":"normal"},{"uid":"a9bfa3dfea9b99b2","name":"numPeers=2 -- returns total 2 peers, with max 6 bootstrap peers","time":{"start":1710242657760,"stop":1710242657761,"duration":1},"status":"passed","severity":"normal"},{"uid":"dd1aac017286fede","name":"should fall back to default pubsub topic when pubsubTopicShardInfo is not provided","time":{"start":1710242442726,"stop":1710242442726,"duration":0},"status":"passed","severity":"normal"},{"uid":"bee909ffb254aba6","name":"ENRTree (branch): should error if DNS branch entry is mis-prefixed","time":{"start":1710242466336,"stop":1710242466336,"duration":0},"status":"passed","severity":"normal"},{"uid":"a392420d180c5e60","name":"Check received message containing Russian","time":{"start":1710242646710,"stop":1710242646710,"duration":0},"status":"passed","severity":"normal"},{"uid":"c5c05458ee82fa2f","name":"should decode valid enr successfully","time":{"start":1710242450976,"stop":1710242450976,"duration":0},"status":"passed","severity":"normal"},{"uid":"d9c3350638c8a321","name":"should correctly map /app/20/sometopic/someencoding to shard index 0 with networkShards 1","time":{"start":1710242442709,"stop":1710242442709,"duration":0},"status":"passed","severity":"normal"},{"uid":"2a9b8492f92816ba","name":"should get / set TCP multiaddr","time":{"start":1710242450981,"stop":1710242450981,"duration":0},"status":"passed","severity":"normal"},{"uid":"448a60a28db01fe0","name":"should load peers from local storage and dispatch events","time":{"start":1710242470756,"stop":1710242470756,"duration":0},"status":"passed","severity":"normal"},{"uid":"e5941ec1c7fce5","name":"handles empty shards array correctly","time":{"start":1710242442729,"stop":1710242442729,"duration":0},"status":"passed","severity":"normal"},{"uid":"e5278b4c2fb3f290","name":"should handle application and version for autosharding","time":{"start":1710242442714,"stop":1710242442714,"duration":0},"status":"passed","severity":"normal"},{"uid":"a6c73225d756407d","name":"should be able to decode the field with only STORE set to true","time":{"start":1710242450274,"stop":1710242450275,"duration":1},"status":"passed","severity":"normal"},{"uid":"85da33345a50eda1","name":"addEventListener with correct event","time":{"start":1710242533843,"stop":1710242533844,"duration":1},"status":"passed","severity":"normal"},{"uid":"fff9172fe6361a9b","name":"should be called at least once on all `peer:discovery` events","time":{"start":1710242500582,"stop":1710242500583,"duration":1},"status":"passed","severity":"normal"},{"uid":"bb95ae8823eadf08","name":"should throw an error for missing required configuration","time":{"start":1710242442716,"stop":1710242442717,"duration":1},"status":"passed","severity":"normal"},{"uid":"547ce6a906780f8f","name":"Encoder throws on undefined content topic","time":{"start":1710242476687,"stop":1710242476687,"duration":0},"status":"passed","severity":"normal"},{"uid":"baa9e6a9368b709b","name":"passes more than one ENR URLs and attempts connection","time":{"start":1710242502115,"stop":1710242502115,"duration":0},"status":"skipped","severity":"normal"},{"uid":"536f973f99acfc48","name":"should throw an error for non-numeric clusterId: /waku/2/rs/!/1","time":{"start":1710242442721,"stop":1710242442721,"duration":0},"status":"passed","severity":"normal"},{"uid":"87ef9dbdfcf77840","name":"should throw an error for non-numeric clusterId: /waku/2/rs/\\/1","time":{"start":1710242442722,"stop":1710242442722,"duration":0},"status":"passed","severity":"normal"},{"uid":"6bc1b0e2d46bcf38","name":"Ephemeral field set to true","time":{"start":1710242455818,"stop":1710242455818,"duration":0},"status":"passed","severity":"normal"},{"uid":"f3003eeeb492f277","name":"Check received message containing shell command","time":{"start":1710242646714,"stop":1710242646715,"duration":1},"status":"passed","severity":"normal"},{"uid":"caa1c53fa4fe28b9","name":"should convert a SingleShardInfo object to the correct PubsubTopic","time":{"start":1710242442711,"stop":1710242442712,"duration":1},"status":"passed","severity":"normal"},{"uid":"aa035fdef21b0eb3","name":"Check meta is set [symmetric]","time":{"start":1710242476686,"stop":1710242476686,"duration":0},"status":"passed","severity":"normal"},{"uid":"f371fc8ce84227c","name":"should properly create location multiaddrs - tcp4","time":{"start":1710242450981,"stop":1710242450982,"duration":1},"status":"passed","severity":"normal"},{"uid":"e8b2f54eb709dfd3","name":"should return valid sharding parameters for content topics autosharding","time":{"start":1710242442727,"stop":1710242442728,"duration":1},"status":"passed","severity":"normal"},{"uid":"a6c6d60895cf63aa","name":"numPeers=0 -- returns all peers including all non-bootstrap with maxBootstrapPeers: 2","time":{"start":1710242657749,"stop":1710242657750,"duration":1},"status":"passed","severity":"normal"},{"uid":"6a997528be52b482","name":"Relay + Store","time":{"start":1710242504458,"stop":1710242504458,"duration":0},"status":"passed","severity":"normal"},{"uid":"57d973b313460369","name":"throws on content topic with non-number generation field","time":{"start":1710242442697,"stop":1710242442699,"duration":2},"status":"passed","severity":"normal"},{"uid":"2dd6bd0e97cda9a5","name":"should return a calculated topic if SingleShardInfo is provided","time":{"start":1710242442726,"stop":1710242442726,"duration":0},"status":"passed","severity":"normal"},{"uid":"e7625ea65ee9822a","name":"Check received message containing Chinese","time":{"start":1710242646709,"stop":1710242646709,"duration":0},"status":"passed","severity":"normal"},{"uid":"fc0f6eb5e35bf89a","name":"should handle clusterId, application and version for autosharding with cluster iD 6","time":{"start":1710242442715,"stop":1710242442715,"duration":0},"status":"passed","severity":"normal"},{"uid":"be5c092196e06ef1","name":"`waku:online` bwtween 2 js-waku relay nodes","time":{"start":1710242545013,"stop":1710242545013,"duration":0},"status":"passed","severity":"normal"},{"uid":"89163c9217475a91","name":"Check message with no content topic is not received","time":{"start":1710242646725,"stop":1710242646725,"duration":0},"status":"passed","severity":"normal"},{"uid":"f8c62801c317202e","name":"should return false","time":{"start":1710242450979,"stop":1710242450979,"duration":0},"status":"passed","severity":"normal"},{"uid":"f88dc5d2622f17a5","name":"Symmetric encrypt & Decrypt","time":{"start":1710242477199,"stop":1710242477199,"duration":0},"status":"passed","severity":"normal"},{"uid":"48bf74db687c5557","name":"numPeers=2 -- returns total 2 peers, with max 1 bootstrap peers","time":{"start":1710242657743,"stop":1710242657744,"duration":1},"status":"passed","severity":"normal"},{"uid":"89effce77aba33be","name":"should throw error - no public key","time":{"start":1710242450977,"stop":1710242450978,"duration":1},"status":"passed","severity":"normal"},{"uid":"f0dbe4825ac4d617","name":"Check meta is set [ecies]","time":{"start":1710242478467,"stop":1710242478467,"duration":0},"status":"passed","severity":"normal"},{"uid":"9fdfedc372729fac","name":"should update peers in local storage on 'peer:identify' event","time":{"start":1710242470756,"stop":1710242470756,"duration":0},"status":"passed","severity":"normal"},{"uid":"1b3f0cb759887bd","name":"should return all peers when numPeers is 0","time":{"start":1710242455653,"stop":1710242455654,"duration":1},"status":"passed","severity":"normal"},{"uid":"e78603d8672fd3a9","name":"addEventListener with wrong event","time":{"start":1710242533844,"stop":1710242533845,"duration":1},"status":"passed","severity":"normal"},{"uid":"2d7cc24efd1f8b3f","name":"isConnected should return false after all peers disconnect","time":{"start":1710242492887,"stop":1710242492887,"duration":0},"status":"passed","severity":"normal"},{"uid":"65acbf6de5f05905","name":"does not throw on valid cases","time":{"start":1710242442695,"stop":1710242442696,"duration":1},"status":"passed","severity":"normal"},{"uid":"978411ea5124aec7","name":"should throw an error for non-numeric shard: /waku/2/rs/1/ ","time":{"start":1710242442724,"stop":1710242442724,"duration":0},"status":"passed","severity":"normal"},{"uid":"f22ff223d2ef33c1","name":"different cluster, different shard: nodes don't connect (autosharding)","time":{"start":1710242657742,"stop":1710242657742,"duration":0},"status":"passed","severity":"normal"},{"uid":"87712d2675e31de9","name":"should be called for peers with PEER_EXCHANGE tags","time":{"start":1710242500586,"stop":1710242500586,"duration":0},"status":"passed","severity":"normal"},{"uid":"2531edca86e60387","name":"should correctly map /app/22/sometopic/someencoding to shard index 2","time":{"start":1710242442706,"stop":1710242442707,"duration":1},"status":"passed","severity":"normal"},{"uid":"bf3ff467f0aa31a9","name":"Should fail to subscribe with decoder with wrong pubsubTopic","time":{"start":1710242566418,"stop":1710242566419,"duration":1},"status":"passed","severity":"normal"}]