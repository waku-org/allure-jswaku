{"uid":"db27bf88c9d9bbf1","name":"different cluster, different shard: nodes don't connect","fullName":"/tests/getPeers.spec.ts: getPeersForProtocolAndShard > different cluster, different shard: nodes don't connect","historyId":"b7cc42e31d061bd10f645d337b8c6781:d41d8cd98f00b204e9800998ecf8427e","time":{"start":1702636522940,"stop":1702636522940,"duration":0},"status":"broken","statusMessage":"the connection is being closed","statusTrace":"CodeError: the connection is being closed\n    at ConnectionImpl.newStream (file:///home/runner/work/js-waku/js-waku/node_modules/libp2p/src/connection/index.ts:119:13)\n    at StreamManager.newStream (file:///home/runner/work/js-waku/js-waku/packages/core/src/lib/stream_manager.ts:54:23)\n    at StreamManager.getStream (file:///home/runner/work/js-waku/js-waku/packages/core/src/lib/stream_manager.ts:42:19)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Metadata.query (file:///home/runner/work/js-waku/js-waku/packages/core/src/lib/metadata/index.ts:75:20)\n    at async Metadata.confirmOrAttemptHandshake (file:///home/runner/work/js-waku/js-waku/packages/core/src/lib/metadata/index.ts:95:5)\n    at async Promise.all (index 0)\n    at async waitForConnectedPeer (file:///home/runner/work/js-waku/js-waku/packages/core/src/lib/wait_for_remote_peer.ts:92:8)\n    at async Promise.all (index 0)\n    at async waitForRemotePeer (file:///home/runner/work/js-waku/js-waku/packages/core/src/lib/wait_for_remote_peer.ts:74:5)","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"\"before each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"\"after each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"package","value":"tests"},{"name":"parentSuite","value":"getPeersForProtocolAndShard"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":3,"skipped":0,"passed":2,"unknown":0,"total":5},"items":[{"uid":"f1974fd3b6fcc581","reportUrl":"https://waku-org.github.io/js-waku/6015//#testresult/f1974fd3b6fcc581","status":"broken","statusDetails":"the connection is being closed","time":{"start":1702591581740,"stop":1702591581741,"duration":1}},{"uid":"c196d48b3e388234","reportUrl":"https://waku-org.github.io/js-waku/6014//#testresult/c196d48b3e388234","status":"broken","statusDetails":"the connection is being closed","time":{"start":1702591217385,"stop":1702591217385,"duration":0}},{"uid":"e93631a093959305","reportUrl":"https://waku-org.github.io/js-waku/6010//#testresult/e93631a093959305","status":"passed","time":{"start":1702588686933,"stop":1702588686934,"duration":1}},{"uid":"e33a5e81d3e08a4","reportUrl":"https://waku-org.github.io/js-waku/6008//#testresult/e33a5e81d3e08a4","status":"passed","time":{"start":1702581701689,"stop":1702581701690,"duration":1}}]},"tags":[]},"source":"db27bf88c9d9bbf1.json","parameterValues":[]}