{"uid":"99766ab1c822b0fb","name":"different cluster, same shard: nodes don't connect","fullName":"/tests/getPeers.spec.ts: getPeersForProtocolAndShard > different cluster, same shard: nodes don't connect","historyId":"d77b58a46480aa9a8a7367b756edbd11:d41d8cd98f00b204e9800998ecf8427e","time":{"start":1702636522937,"stop":1702636522938,"duration":1},"status":"broken","statusMessage":"the connection is being closed","statusTrace":"CodeError: the connection is being closed\n    at ConnectionImpl.newStream (file:///home/runner/work/js-waku/js-waku/node_modules/libp2p/src/connection/index.ts:119:13)\n    at StreamManager.newStream (file:///home/runner/work/js-waku/js-waku/packages/core/src/lib/stream_manager.ts:54:23)\n    at StreamManager.getStream (file:///home/runner/work/js-waku/js-waku/packages/core/src/lib/stream_manager.ts:42:19)\n    at async Metadata.query (file:///home/runner/work/js-waku/js-waku/packages/core/src/lib/metadata/index.ts:75:20)\n    at async Metadata.confirmOrAttemptHandshake (file:///home/runner/work/js-waku/js-waku/packages/core/src/lib/metadata/index.ts:95:5)\n    at async Promise.all (index 0)\n    at async waitForConnectedPeer (file:///home/runner/work/js-waku/js-waku/packages/core/src/lib/wait_for_remote_peer.ts:92:8)\n    at async Promise.all (index 0)\n    at async waitForRemotePeer (file:///home/runner/work/js-waku/js-waku/packages/core/src/lib/wait_for_remote_peer.ts:74:5)\n    at async Context.<anonymous> (file:///home/runner/work/js-waku/js-waku/packages/tests/tests/getPeers.spec.ts:83:9)","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"\"before each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"\"after each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"getPeersForProtocolAndShard\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"package","value":"tests"},{"name":"parentSuite","value":"getPeersForProtocolAndShard"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":3,"skipped":0,"passed":2,"unknown":0,"total":5},"items":[{"uid":"ca35c463b7ffcf67","reportUrl":"https://waku-org.github.io/js-waku/6015//#testresult/ca35c463b7ffcf67","status":"broken","statusDetails":"the connection is being closed","time":{"start":1702591581738,"stop":1702591581738,"duration":0}},{"uid":"717261133fe4a0","reportUrl":"https://waku-org.github.io/js-waku/6014//#testresult/717261133fe4a0","status":"broken","statusDetails":"the connection is being closed","time":{"start":1702591217382,"stop":1702591217383,"duration":1}},{"uid":"d63f6817053569b9","reportUrl":"https://waku-org.github.io/js-waku/6010//#testresult/d63f6817053569b9","status":"passed","time":{"start":1702588686933,"stop":1702588686933,"duration":0}},{"uid":"96b36517a4db3a75","reportUrl":"https://waku-org.github.io/js-waku/6008//#testresult/96b36517a4db3a75","status":"passed","time":{"start":1702581701689,"stop":1702581701689,"duration":0}}]},"tags":[]},"source":"99766ab1c822b0fb.json","parameterValues":[]}