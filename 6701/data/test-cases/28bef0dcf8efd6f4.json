{"uid":"28bef0dcf8efd6f4","name":"Decrypt messages","fullName":"/tests/relay/index.node.spec.ts: Waku Relay > Decrypt messages","historyId":"f2ec7d8ce85291d72ab1e69a8da92459:d41d8cd98f00b204e9800998ecf8427e","time":{"start":1710342788161,"stop":1710342788162,"duration":1},"status":"broken","statusMessage":"Failed to execute 'importKey' on 'SubtleCrypto': 2nd argument is not instance of ArrayBuffer, Buffer, TypedArray, or DataView.","statusTrace":"TypeError: Failed to execute 'importKey' on 'SubtleCrypto': 2nd argument is not instance of ArrayBuffer, Buffer, TypedArray, or DataView.\n    at codedTypeError (node:internal/crypto/webidl:45:15)\n    at makeException (node:internal/crypto/webidl:54:10)\n    at Object.converters.BufferSource (node:internal/crypto/webidl:218:11)\n    at SubtleCrypto.importKey (node:internal/crypto/webcrypto:585:36)\n    at Module.encrypt (file:///home/runner/work/js-waku/js-waku/packages/message-encryption/src/crypto/symmetric.ts:11:6)\n    at encryptSymmetric (file:///home/runner/work/js-waku/js-waku/packages/message-encryption/src/encryption.ts:89:34)\n    at Encoder.toProtoObj (file:///home/runner/work/js-waku/js-waku/packages/message-encryption/src/symmetric.ts:61:27)\n    at async Encoder.toWire (file:///home/runner/work/js-waku/js-waku/packages/message-encryption/src/symmetric.ts:51:26)\n    at async Relay.send (file:///home/runner/work/js-waku/js-waku/packages/relay/src/index.ts:118:17)\n    at async Context.<anonymous> (file:///home/runner/work/js-waku/js-waku/packages/tests/tests/relay/index.node.spec.ts:59:9)","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"\"before each\" hook in \"Waku Relay\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"Waku Relay\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"Waku Relay\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"Waku Relay\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"Waku Relay\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"before each\" hook in \"Waku Relay\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"\"after each\" hook in \"Waku Relay\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"Waku Relay\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"Waku Relay\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"Waku Relay\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"Waku Relay\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"\"after each\" hook in \"Waku Relay\"","time":{},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"package","value":"tests.relay"},{"name":"parentSuite","value":"Waku Relay"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":4,"skipped":0,"passed":3,"unknown":0,"total":7},"items":[{"uid":"d1ebd156e02c4d87","reportUrl":"https://waku-org.github.io/js-waku/6700//#testresult/d1ebd156e02c4d87","status":"passed","time":{"start":1710342450765,"stop":1710342450765,"duration":0}},{"uid":"79542826f5043d94","reportUrl":"https://waku-org.github.io/js-waku/6699//#testresult/79542826f5043d94","status":"broken","statusDetails":"Failed to execute 'importKey' on 'SubtleCrypto': 2nd argument is not instance of ArrayBuffer, Buffer, TypedArray, or DataView.","time":{"start":1710341735037,"stop":1710341735038,"duration":1}},{"uid":"996cfc52a62d62f8","reportUrl":"https://waku-org.github.io/js-waku/6698//#testresult/996cfc52a62d62f8","status":"broken","statusDetails":"Failed to execute 'importKey' on 'SubtleCrypto': 2nd argument is not instance of ArrayBuffer, Buffer, TypedArray, or DataView.","time":{"start":1710341617540,"stop":1710341617541,"duration":1}},{"uid":"311460a0f4fc6045","reportUrl":"https://waku-org.github.io/js-waku/6697//#testresult/311460a0f4fc6045","status":"broken","statusDetails":"Failed to execute 'importKey' on 'SubtleCrypto': 2nd argument is not instance of ArrayBuffer, Buffer, TypedArray, or DataView.","time":{"start":1710341521040,"stop":1710341521040,"duration":0}},{"uid":"53a9740991442ceb","reportUrl":"https://waku-org.github.io/js-waku/6696//#testresult/53a9740991442ceb","status":"passed","time":{"start":1710341301244,"stop":1710341301245,"duration":1}},{"uid":"fcbacdf2550f59b","reportUrl":"https://waku-org.github.io/js-waku/6695//#testresult/fcbacdf2550f59b","status":"passed","time":{"start":1710341074517,"stop":1710341074517,"duration":0}}]},"tags":[]},"source":"28bef0dcf8efd6f4.json","parameterValues":[]}